<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>멀티파트 파일 테스트</title>
</head>
<body>
  <form id="form" enctype="multipart/form-data">
    <input type="file" name="files1" multiple>
    <input type="file" name="files2" multiple>
    <button type="submit">업로드</button>
  </form>
  <!-- axios CDN -->
  <script src="https://unpkg.com/axios@1.2.1/dist/axios.min.js"></script>
  <!-- <script>
    document.querySelector('[type=file]').addEventListener('change', (e) => {
      document.querySelector('[type=text]').value = e.target.value;
    });
    document.getElementById('form').addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData();
      const files = e.target.image.files;
      formData.append('title',e.target.image.value);
      for(let i = 0; i<files.length; i++){
        formData.append('files',files[i]);
      }

      axios.post('/upload',formData);
    });
  </script> -->
  <!-- <script>
    document.getElementById('form').addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData();
      formData.append('image1',e.target.image1.files[0]);
      formData.append('image2',e.target.image2.files[0]);

      axios.post('/upload',formData);
    });
  </script> -->

  <script>
    document.getElementById('form').addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData();
      const files1 = e.target.files1.files;
      const files2 = e.target.files2.files; 

      for (let i = 0; i < files1.length; i++) {
        formData.append('files1', files1[i]);
      }

      for (let i = 0; i < files2.length; i++) {
        formData.append('files2', files2[i]);
      }

      axios.post('/upload', formData);
    });
  </script>
</body>
</html>